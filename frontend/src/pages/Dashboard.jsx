import React, { useEffect, useState } from 'react';\nimport api, { setToken } from '../services/api';\n\nexport default function Dashboard() {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) { window.location.href = '/login'; return; }\n    setToken(token); load();\n  }, []);\n\n  async function load() {\n    try {\n      const res = await api.get('/dashboard');\n      setData(res.data);\n    } catch (e) {\n      console.error(e);\n      if (e.response?.status === 401) window.location.href = '/login';\n    }\n  }\n\n  if (!data) return <div>Carregando...</div>;\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h1>Dashboard Financeiro</h1>\n      <ul>\n        <li>Total a pagar: R$ {data.totalPagar.toFixed(2)}</li>\n        <li>Vencidas a pagar: R$ {data.pagarVencidas.toFixed(2)}</li>\n        <li>Próximos 30 dias a pagar: R$ {data.pagarProximas30.toFixed(2)}</li>\n        <li>Total a receber: R$ {data.totalReceber.toFixed(2)}</li>\n        <li>Vencidas a receber: R$ {data.receberVencidas.toFixed(2)}</li>\n        <li>Próximos 30 dias a receber: R$ {data.receberProximas30.toFixed(2)}</li>\n        <li>Comissões pendentes: R$ {data.comissaoPendente.toFixed(2)}</li>\n      </ul>\n    </div>\n  );\n}\n